<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
    <!-- CSS  -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    <title>가짜뉴스 위험도 측정기</title>

    <!-- script -->
    <script type="text/javascript">
        let st = new Array(0,0,0,0,0,0);
        window.onload = function(){
            document.getElementById("result").hidden = true;
            document.getElementById("showresult").hidden = true;
            rl = document.getElementById("resultlabel").hidden = true;
        }
        function next(){
            $('.slider').slider('next');
        }
        function stop(){
            $('.slider').slider('pause');
        }
        function set(step,index){
            st[step] = index;
        }
        function showResult(){
            rl = document.getElementById("resultlabel");
            var k = 0;
            for(var i = 0;i<st.length;i++){
                if(st[i] == 0){
                    k++;
                }
            }
            if(k >= 1){
                rl.innerText = "응답하지 않은 질문이 "+k+"개 있습니다";
                rl.hidden = false;
                document.getElementById("showresult").hidden = true;
            }else{
                rl.hidden = true;
            }
        }
        function getUrlParams() {
            var params = {};
            window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(str, key, value) { params[key] = value; });
            return params;
        }
        function handOver(){
           var k = 0;
            for(var i = 0;i<st.length;i++){
                if(st[i] == 0){
                  k++;
                }
            }
           var l = 0;
            for(var a=0;a<st.length;a++){
                if(st[a] == 1){
                    l++;
                }
            }
            if(k == 0) {
                query = getUrlParams()
                var queryString = "?k=" + l+"&key="+query.key;
                window.location.href = "result.html" + queryString;
            }

        }
    </script>
    <nav class="green" role="navigation">
        <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo">NewsHelper</a>
            <ul class="right hide-on-med-and-down">
                <li><a href="#">C</a></li>
            </ul>
            <ul id="nav-mobile" class="sidenav">
            </ul>
        </div>
    </nav>
    <div class="section no-pad-bot" id="banner">
        <div class="container">
            <br><br>
            <div class="slider">
                <ul class="slides">
                    <li>
                        <img src="./imgs/whitebackground.jpg">
                        <div class="caption left-align">
                            <h2 class="blue-text text-accent-1">Step.1 </h2>
                            <h4 class="black-text text-accent-1">전에 들어본 적이 있는 방송사인가요?</h4>
                            <form action="#">
                                <p>
                                    <label>
                                        <input name="g1" type="radio" radio onclick="set(0,1);next();stop()" />
                                        <span>네</span>
                                    </label>
                                </p>
                                <p>
                                    <label>
                                        <input name="g1"  type="radio" radio onclick="set(0,-1);next();stop()" />
                                        <span>아니오</span>
                                    </label>
                                </p>
                            </form>
                        </div>
                    </li>
                    <li>
                        <img src="./imgs/whitebackground.jpg">
                        <div class="caption left-align">
                            <h2 class="blue-text text-accent-1">Step.2 </h2>
                            <h4 class="black-text text-accent-1">당신이 생각한 그 뉴스 소스인가요? 또는 비슷한 곳인가요?</h4>
                            <form action="#">
                                <p>
                                    <label>
                                        <input name="g1" type="radio" radio onclick="set(1,1);next();stop()" />
                                        <span>네</span>
                                    </label>
                                </p>
                                <p>
                                    <label>
                                        <input name="g1" type="radio" radio onclick="set(1,-1);next();stop()" />
                                        <span>아니오</span>
                                    </label>
                                </p>
                            </form>
                        </div>
                    </li>
                    <li>
                        <img src="./imgs/whitebackground.jpg">
                        <div class="caption left-align">
                            <h2 class="blue-text text-accent-1">Step.3 </h2>
                            <h4 class="black-text text-accent-1">일어났다고 하는 곳이 지도상에서 정확히 알 수 있는 곳인가요?</h4>
                            <form action="#">
                                <p>
                                    <label>
                                        <input name="g1" type="radio" radio onclick="set(2,1);next();stop()" />
                                        <span>네</span>
                                    </label>
                                </p>
                                <p>
                                    <label>
                                        <input name="g1" type="radio" radio onclick="set(2,-1);next();stop()" />
                                        <span>아니오</span>
                                    </label>
                                </p>
                            </form>
                        </div>
                    </li>
                    <li>
                        <img src="./imgs/whitebackground.jpg">
                        <div class="caption left-align">
                            <h2 class="blue-text text-accent-1">Step.4 </h2>
                            <h4 class="black-text text-accent-1">다른 방송사에서도 보도된 적이 있나요?</h4>
                            <form action="#">
                                <p>
                                    <label>
                                        <input name="g1" type="radio" radio onclick="set(3,1);next();stop()" />
                                        <span>네</span>
                                    </label>
                                </p>
                                <p>
                                    <label>
                                        <input name="g1" type="radio" radio onclick="set(3,-1);next();stop()" />
                                        <span>아니오</span>
                                    </label>
                                </p>
                            </form>
                        </div>
                    </li>
                    <li>
                        <img src="./imgs/whitebackground.jpg">
                        <div class="caption left-align">
                            <h2 class="blue-text text-accent-1">Step.5 </h2>
                            <h4 class="black-text text-accent-1">그 주장에 대한 근거가 하나 이상 있나요?</h4>
                            <form action="#">
                                <p>
                                    <label>
                                        <input name="g1" type="radio" radio onclick="set(4,1);next();stop()"  />
                                        <span>네</span>
                                    </label>
                                </p>
                                <p>
                                    <label>
                                        <input name="g1" type="radio" radio onclick="set(4,-1);next();stop()" />
                                        <span>아니오</span>
                                    </label>
                                </p>
                            </form>
                        </div>
                    </li>
                    <li>
                        <img src="./imgs/whitebackground.jpg">
                        <div class="caption left-align">
                            <h2 class="blue-text text-accent-1">Step.6 </h2>
                            <h4 class="black-text text-accent-1">이 이야기가 아니고 다른 이야기일 수 있나요?</h4>
                            <form action="#">
                                <p>
                                    <label>
                                        <input name="g1"type="radio" radio onclick="set(5,-1);next();stop();showResult()"  />
                                        <span>네</span>
                                    </label>
                                </p>
                                <p>
                                    <label>
                                        <input name="g1" type="radio" radio onclick="set(5,1);next();stop();showResult()" />
                                        <span>아니오</span>
                                    </label>
                                </p>
                            </form>
                        </div>
                    </li>
                    <li>
                        <img src="./imgs/whitebackground.jpg">
                        <div class="caption left-align">
                            <h3 class="black-text text-accent-1 ">테스트가 끝났습니다</h3>
                            <h4 class="red-text text-accent-2" id="resultlabel">! 검사가 제대로 이루어지지 않았습니다.</h4>
                          <a button onclick="handOver()" id="showresult" class="btn-large waves-effect">검사 결과 확인하기</a>
                        </div>
                    </li>
                </ul>
            </div>

            <br><br>

            <br><br>

        </div>
    </div>


</head>
<body>
<!--  Scripts-->
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="js/materialize.js"></script>
<script src="js/init.js"></script>
<script type="text/javascript">

    $(document).ready(function(){
        $('.slider').slider();
        $('.slider').slider('pause');
    });

</script>
</body>
</html>